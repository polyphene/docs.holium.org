<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<title data-react-helmet="true">Design | Holium documentation</title><meta data-react-helmet="true" property="og:url" content="https://polyphene.github.io/docs.holium.org//reference/design"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Design | Holium documentation"><meta data-react-helmet="true" name="description" content="On this page are defined the inner workings of the lowest storage layer in Holium, based on linked data, that gives"><meta data-react-helmet="true" property="og:description" content="On this page are defined the inner workings of the lowest storage layer in Holium, based on linked data, that gives"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://polyphene.github.io/docs.holium.org//reference/design"><link data-react-helmet="true" rel="alternate" href="https://polyphene.github.io/docs.holium.org//reference/design" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://polyphene.github.io/docs.holium.org//reference/design" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.20bff7f4.css">
<link rel="preload" href="/assets/js/runtime~main.21589c7f.js" as="script">
<link rel="preload" href="/assets/js/main.4fcd81d0.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Holium logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo.png" alt="Holium logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">Holium</b></a></div><div class="navbar__items navbar__items--right"><a href="https://discord.gg/A3t5ZFSbCG/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/polyphene/holium-rs/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_cxYs react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Holium logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo.png" alt="Holium logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">Holium</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://discord.gg/A3t5ZFSbCG/" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://github.com/polyphene/holium-rs/" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu menu--responsive thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/">Home</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">About Holium</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/about-holium/what-is-holium">What is Holium</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/about-holium/design-principles">Design principles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/about-holium/design">Design</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Get started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/setting-up">Setting up</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/create-a-project">Create a project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/add-data-sources">Add data sources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/add-transformations">Add a transformation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/add-shaper">Add a shaper</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/connect-objects">Connect objects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/versionning">Version the pipeline DAG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/run">Run the transformation pipeline</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/guides">Guides</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Reference</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/reference/design">Design</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/reference/cli">CLI</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Transformation SDK</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/reference/sdk/rationale">Rationale</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/reference/sdk/glossary">Glossary</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/reference/sdk/specifications">Specifications</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Rust SDK</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/reference/sdk/rust-sdk/install">Install</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/reference/sdk/rust-sdk/usage">Usage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/reference/sdk/rust-sdk/constraints">Limitations</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/reference/sdk/future-work">Future work</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/contributing">Contributing</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Meta</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/meta/glossary">Glossary</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/meta/question-and-answer">Q&amp;A</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/meta/changelog">Changelog</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/meta/license">License</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="markdown"><header><h1 class="h1Heading_dC7a">Design</h1></header><p>On this page are defined the inner workings of the lowest storage layer in Holium, based on linked data, that gives
every component in the framework a unique identifier.</p><p>In line with the <a href="/about-holium/design-principles">vision and principles</a> of the project, some objectives of the
protocol are directly linked to this layer. Among others, providing a way to always share bits of data together with
their history, so that datasets are never cut away from any lineage information, and facilitating collaboration on data
transformation pipelines.</p><p>To define something, it is often as useful to specify what it is not than what it is.</p><p>On one hand, the purpose of this layer is a <strong>description</strong> one. It basically serves as the lowest <em>self-describing,
autonomous</em> storage layer, where archives of any information related to data transformation could lie. Its construction
focuses on <strong>completeness</strong> of stored objects, so that one identifier could identify entire unforgeable archives, and <strong>
modularity</strong> to foster re-usability of any stored component.</p><p>On the other hand, querying datasets based on or related to transformation pipelines, or comparing these assets, does
not figure in the scope of this architectural layer.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="reference-schema"></a>Reference schema<a class="hash-link" href="#reference-schema" title="Direct link to heading">#</a></h2><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>info </h5></div><div class="admonition-content"><p>This document serves as the actual reference schema for all objects in the Holium framework. Indications
related to testing and contributing can be found at the end of it.</p></div></div><p>To unlock collaboration in open networks, common loose frames of data representations are not enough and the very
representations need to be unified. Truly universal identifiers are required. That is why Holium takes advantage
of <a href="https://multiformats.io/" target="_blank" rel="noopener noreferrer">multiformats</a> and <a href="https://github.com/multiformats/cid" target="_blank" rel="noopener noreferrer">Content IDentifiers (CID)</a>. Using
these self-describing content-based identifiers, ready for distributed systems, the aim is to ensure that any object in
the framework may be represented in one unique way, which only depends on its content and never on external elements
like its location or its creator. Given that, users can then go beyond any problem of data representation and focus one
what they actually want to use these objects for.</p><p>Throughout this document, some rules are specified with the primary goal of enforcing deterministic representation of
all objects. Among these, the first ones are related to multiformat configuration. For any CID in the protocol:</p><ul><li>Multihashes use the BLAKE3 algorithm (code <code>0x1e</code>) with its default 32 byte output length.</li><li>The <code>cbor</code> (code <code>0x51</code>) multicodec is used for serialization.</li></ul><p>The model is defined as an <a href="https://ipld.io/docs/schemas/" target="_blank" rel="noopener noreferrer">IPLD schema</a>. For ease of understanding, the focus is first
put on the three important kinds that enable the representation of transformation history of datasets, but the same
model also supports the description of other objects (dry/data-free pipeline structures, metadata,...) specified
afterwards.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="data"></a>Data<a class="hash-link" href="#data" title="Direct link to heading">#</a></h3><p>The first kinds to be studied are the ones in charge of data and datasets themselves. As covered in
the <a href="/about-holium/design">design introduction</a>, scalar values are stored as they are while recursive structures
are only made of links to other scalar or recursive data structures.</p><p>Apart from the use of the <code>AnyScalar</code> union type to encompass all scalar values, this first excerpt of the schema also
introduces the <a href="#versioning">versioning strategy</a> covered in more details in a dedicated section of this document.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ipdsch"><pre tabindex="0" class="prism-code language-ipdsch codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">## =====</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## This schema describes structures used in the Holium Framework.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">##</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## Version : 0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## =====</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## AnyScalar defines a union of the basic non-complex kinds.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## Reference: https://github.com/ipld/ipld/blob/master/specs/schemas/schema-schema.ipldsch</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type AnyScalar union {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    | Bool bool</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    | String string</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    | Bytes bytes</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    | Int int</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    | Float float</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} representation kinded</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## ScalarData_v0, the first kind of Holium data object, is a simple Copy of IPLD AnyScalar.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type ScalarData_v0 = AnyScalar</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## ScalarDataEnvelope_v0 is an enveloped content pointing to ScalarData_v0.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type ScalarDataEnvelope_v0 &amp;ScalarData_v0</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## ScalarDataEnvelope_Typed_v0 is the typed version of ScalarData envelopes for protocol v0.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type ScalarDataEnvelope_Typed_v0 union {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    | ScalarDataEnvelope_v0 &quot;sde_0&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} representation envelope {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    discriminantKey &quot;typedVersion&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    contentKey &quot;content&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>As foreseen, the schema acknowledges recursive data structures as lists of links to other data values, scalar or
recursive.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ipldsch"><pre tabindex="0" class="prism-code language-ipldsch codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">## RecursiveData_v0, the second kind of Holium data object, is a list of links towards</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## other Holium data blocks.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type RecursiveData_v0 [RecursiveDataElement_v0]</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## RecursiveDataElement_v0 is a simple Copy of the Link kind.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## It is mostly a placeholder for the day IPLD specifications allow to create an expressive</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## kinded union of links to both scalar and recursive data types.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type RecursiveDataElement_v0 = Link</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## RecursiveDataEnvelope_v0 is an enveloped content pointing to RecursiveData_v0.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type RecursiveDataEnvelope_v0 &amp;RecursiveData_v0</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## RecursiveDataEnvelope_Typed_v0 is the typed version of RecursiveData envelopes for protocol v0.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type RecursiveDataEnvelope_Typed_v0 union {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    | RecursiveDataEnvelope_v0 &quot;rde_0&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} representation envelope {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    discriminantKey &quot;typedVersion&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    contentKey &quot;content&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>With these two first kinds, any data, either structured or complex, can equally be introduced in the Holium framework
and included in virtually any dataset. In the process, data re-usability is maximized as any data, scalar or not, will
consistently be represented in the exact same way and benefit from the exact content-based universal identifier, while
recursive data only hold links and never copies of initial data.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="execution"></a>Execution<a class="hash-link" href="#execution" title="Direct link to heading">#</a></h3><p>The second important kind is the one in charge of describing the result of the execution of a transformation. This part
of the architecture has also been introduced in the <a href="/about-holium/design">design introduction</a> and, as a reminder,
involves WebAssembly functions ingesting and digesting datasets. More precisely, a transformation always ingests a
single <code>RecursiveData</code>
object as an input parameter and, in case of success, outputs a single <code>RecursiveData</code> object which respectively hold
all the input and output values of the transformation and may be structured and structured with the help of a
transformation SDK.</p><p>First, a module bytecode is represented with a dedicated kind.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ipldsch"><pre tabindex="0" class="prism-code language-ipldsch codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">## ModuleBytecode_v0 is the type of data storing Wasm module bytecode.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## At some point, the FlexibleByteLayout could be a better implementation choice.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## Reference: https://github.com/ipld/ipld/blob/master/specs/advanced-data-layouts/fbl/spec.md</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type ModuleBytecode_v0 bytes</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## ModuleBytecodeEnvelope_v0 is an enveloped content pointing to ModuleBytecode_v0.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type ModuleBytecodeEnvelope_v0 &amp;ModuleBytecode_v0</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## ModuleBytecodeEnvelope_Typed_v0 is the typed version of ModuleBytecode envelopes for protocol v0.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type ModuleBytecodeEnvelope_Typed_v0 union {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    | ModuleBytecodeEnvelope_v0 &quot;mbe_0&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} representation envelope {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    discriminantKey &quot;typedVersion&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    contentKey &quot;content&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Then comes the kind describing the result of an execution itself. That is, for a given module and handle, pointing to a
specific pure function in the module, and given an input value, one may use this type to express the result of the
execution, attaching an exit status and, in case of success, an output data.</p><p>This very kind is a fundamental element of the expression of the history of transformations of any dataset.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ipldsch"><pre tabindex="0" class="prism-code language-ipldsch codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">## Execution_v0 is a kind that allows expressing the result of the execution of</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## a specific transformation on a specific dataset. The transformation is identified</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## through its bytecode and handle, input and (optional) output of the execution</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## are of the RecursiveData kind, while the exit status is a 0 or 1 exit code,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## coding for success or failure respectively.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type Execution_v0 struct {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  bytecode      &amp;ModuleBytecodeEnvelope_Typed_v0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  handle        String</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  input         &amp;RecursiveDataEnvelope_Typed_v0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  exitStatus    bool</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  output        &amp;RecursiveDataEnvelope_Typed_v0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} representation tuple</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## Execution_Typed_v0 is the typed version of Execution for protocol v0.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type Execution_Typed_v0 union {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    | Execution_v0 &quot;ex_0&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} representation envelope {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    discriminantKey &quot;typedVersion&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    contentKey &quot;content&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="pipelines"></a>Pipelines<a class="hash-link" href="#pipelines" title="Direct link to heading">#</a></h3><p>To connect transformed datasets to all source datasets that they originate from, a last kind is necessary, which
basically connects each execution as an intermediary stage of a complete transformation process. This last kind is the
one describing shapes of pipelines.</p><p>As introduced in the <a href="/about-holium/design">design overview</a>, chaining transformations basically comes down to the
connection of indexes. As, in Holium, the input parameter of a transformation is a single list structure, holding nested
lists and/or scalars, each input element can be precisely identified with a set of indices. This is the purpose of <em>
selectors</em>: to target precise elements inside input and output parameters. To connect a transformation to others and
form a pipeline, one needs to connect each element of its input parameter to elements of output parameters coming from its
preceding transformations, through <em>connections</em>, introduced here and described in more detail
in <a href="#selectors-and-connections">subsequent section</a>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ipldsch"><pre tabindex="0" class="prism-code language-ipldsch codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">## Selector_v0, used in protocol v0, is a Copy of SelectorEnvelope.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type Selector_v0 = SelectorEnvelope</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## The Connection_v0 type is used to connect a tail selector, basically</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## selecting pieces of a transformation output, to a head selector</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## of same topology, selecting parts of a transformation input.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type Connection_v0 struct {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  tailSelector  &amp;Selector_v0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  headSelector  &amp;Selector_v0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} representation tuple</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## Connection_Typed_v0 is the typed version of Connection for protocol v0.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type Connection_Typed_v0 union {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    | Connection_v0 &quot;cx_0&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} representation envelope {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    discriminantKey &quot;typedVersion&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    contentKey &quot;content&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>To be accurate, more than chains, pipelines are really Directed Acyclic Graphs (DAG) of transformations.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ipldsch"><pre tabindex="0" class="prism-code language-ipldsch codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">## Pipeline vertices are of type PipelineVertex_v0.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## See the Pipeline_v0 structure for more details.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type PipelineVertex_v0 {String:Link} representation map</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## Pipeline edges are of type PipelineEdge_v0.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## See the Pipeline_v0 structure for more details.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type PipelineEdge_v0 struct {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  tailIndex     int</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  headIndex     int</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  connection    &amp;Connection_Typed_v0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} representation tuple</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## The Pipeline_v0 structure describes topologies of Directed Acyclic Graphs (DAG)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## defined primarily by their edges.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## Firstly, in these DAGs, vertices represent transformations and can be conceived</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## as containers which content may vary according to the context. They may be empty</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## if the only purpose of the pipeline is topological; they may hold</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## transformations only, to represent transformation pipelines at rest; they may also,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## of course, hold data and executions to trace the transformation history of datasets.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## In the end, any type of information may be attached to these vertices.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## Secondly, edges connect these vertices together through pairs of IPLD selectors.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## They connect pieces of output parameters from preceding transformations (tail of</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## the edge) to parts of input parameters of following transformations (head of </span></span><span class="token-line" style="color:#393A34"><span class="token plain">## the edge).</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## Assembled together, they should form a DAG, eventually made of transformations</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## and datasets: the pipeline.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type Pipeline_v0 struct {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  vertices  [PipelineVertex_v0]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  edges     [PipelineEdge_v0]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} representation tuple</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## Pipeline_Typed_v0 is the typed version of Pipeline for protocol v0.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type Pipeline_Typed_v0 union {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    | Pipeline_v0 &quot;pl_0&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} representation envelope {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    discriminantKey &quot;typedVersion&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    contentKey &quot;content&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>In summary, the <code>Pipeline</code> structure defines <strong>topologies of DAGs</strong> which vertices are connected with pairs of selectors
identifying parts of Holium data structures.</p><p>Nodes, for their part, may link to various kinds of information, from dry transformations to datasets and executions. They
are made of maps from String keys to IPLD Links, in which keys should use the same lexicon as the short descriptors
defined in the <a href="#versioning">versioning</a> specification (<code>rde</code> for Recursive Data envelopes, <code>ex</code> for Executions, <code>dt</code>
for Dry Transformations,â€¦), arranged in alphabetical order.</p><p>To ensure determinism of their representations, additional rules based on a simple lexical ordering are explained in
a <a href="#pipeline-dag-lexical-order">subsequent section</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="other-kinds"></a>Other kinds<a class="hash-link" href="#other-kinds" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="dry-transformation"></a>Dry transformation<a class="hash-link" href="#dry-transformation" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ipldsch"><pre tabindex="0" class="prism-code language-ipldsch codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">## DryTransformation_v0 is a kind specifying a module bytecode and a handle, that</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## may be introduced in a pipeline and that does not encompass its execution,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## thus does not link to any specific data value.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type DryTransformation_v0 struct {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  bytecode      &amp;ModuleBytecodeEnvelope_Typed_v0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  handle        String</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} representation tuple</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## DryTransformation_Typed_v0 is the typed version of DryTransformation for protocol v0.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type DryTransformation_Typed_v0 union {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    | DryTransformation_v0 &quot;dt_0&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} representation envelope {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    discriminantKey &quot;typedVersion&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    contentKey &quot;content&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="selectors-and-connections"></a>Selectors and connections<a class="hash-link" href="#selectors-and-connections" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ipldsch"><pre tabindex="0" class="prism-code language-ipldsch codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">## Selectors used in Holium are a subset of IPLD Selectors.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## Reference: https://ipld.io/specs/selectors/</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## SelectorEnvelope is the recommended top-level value for serialized messages</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## that don&#x27;t have established existing context with marks the start of a selector:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## it&#x27;s a single-member union used to kick us towards &quot;nominative typing&quot;.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">##</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## See https://github.com/ipld/specs/tree/master/schemas/migration.md</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## for a background on the theory behind this gentle-nominative concept.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type SelectorEnvelope union {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    | Selector &quot;selector&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} representation keyed</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type Selector union {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    | Matcher &quot;.&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    | ExploreIndex &quot;i&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    | ExploreRange &quot;r&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    | ExploreUnion &quot;|&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} representation keyed</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## Matcher marks a node to be included in the &quot;result&quot; set.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## (All nodes traversed by a selector are in the &quot;covered&quot; set (which is a.k.a.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## &quot;the merkle proof&quot;); the &quot;result&quot; set is a subset of the &quot;covered&quot; set.)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">##</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## In libraries using selectors, the &quot;result&quot; set is typically provided to</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## some user-specified callback.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">##</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## A selector tree with only &quot;explore*&quot;-type selectors and no Matcher selectors</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## is valid; it will just generate a &quot;covered&quot; set of nodes and no &quot;result&quot; set.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type Matcher struct {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    label optional String # labels can be used to match multiple different structures in one selection.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## ExploreIndex traverses a specific index in a list, and applies a next</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## selector to the reached node.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type ExploreIndex struct {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    index Int (rename &quot;i&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    next Selector (rename &quot;&gt;&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## ExploreRange traverses a list, and for each element in the range specified,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## will apply a next selector to those reached nodes.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type ExploreRange struct {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    start Int (rename &quot;^&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    end Int (rename &quot;$&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    next Selector (rename &quot;&gt;&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## ExploreUnion allows selection to continue with two or more distinct selectors</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## while exploring the same tree of data.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">##</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## ExploreUnion can be used to apply a Matcher on one node (causing it to</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## be considered part of a (possibly labelled) result set), while simultaneously</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## continuing to explore deeper parts of the tree with another selector,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">## for example.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">type ExploreUnion [Selector]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Additional specifications should be expected in order to enforce determinism of these representations.
Work in progress. ðŸš§</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="additional-considerations"></a>Additional considerations<a class="hash-link" href="#additional-considerations" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="versioning"></a>Versioning strategy<a class="hash-link" href="#versioning" title="Direct link to heading">#</a></h3><p>All complex schemas in the framework are versioned at the protocol level.</p><p>The simple strategy is based on discriminant keys coding for both the structure and the protocol version.
A schema for <em>execution</em> (coded <code>ex</code>) for protocol version 0 will for instance have the key <code>ex_0</code>.</p><p>Here is the index of short kind descriptors :</p><table><thead><tr><th>Kind</th><th>Short Descriptor</th></tr></thead><tbody><tr><td>Scalar Data envelope</td><td><code>sde</code></td></tr><tr><td>Recursive Data envelope</td><td><code>rde</code></td></tr><tr><td>Module Bytecode envelope</td><td><code>mbe</code></td></tr><tr><td>Execution</td><td><code>ex</code></td></tr><tr><td>Dry Transformation</td><td><code>dt</code></td></tr><tr><td>Connection</td><td><code>cx</code></td></tr><tr><td>Pipeline</td><td><code>pl</code></td></tr></tbody></table><p>When defining schemas for a new version of the protocol, each complex schema has a <em>versionized</em> version. If a
kind does not change, then Copy is simply used:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ipldsch"><pre tabindex="0" class="prism-code language-ipldsch codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type Type_vY = Type_vX</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Then, a simple enumeration implements the keyed versioning strategy. Here is an example with the schema of <em>executions</em>
at protocol version 1.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ipldsch"><pre tabindex="0" class="prism-code language-ipldsch codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type Execution_Typed_v1 union {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    | Execution_v1 &quot;ex_1&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    | Execution_v0 &quot;ex_0&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} representation keyed</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>For more information on versioning strategies, have a look at
the <a href="https://specs.ipld.io/schemas/migration.html" target="_blank" rel="noopener noreferrer">official documentation</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="pipeline-dag-lexical-order"></a>Lexical ordering of pipeline vertices<a class="hash-link" href="#pipeline-dag-lexical-order" title="Direct link to heading">#</a></h3><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Work in progress. ðŸš§</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="contributing"></a>Contributing<a class="hash-link" href="#contributing" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="holium-improvement-proposal-hip"></a>Holium Improvement Proposal (HIP)<a class="hash-link" href="#holium-improvement-proposal-hip" title="Direct link to heading">#</a></h3><p>These open specifications are constantly discussed and improved by the community,
following a process made of proposals known as HIPs.</p><p>If you would like to contribute, check the <a href="/contributing#hip">dedicated guidelines</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="validation"></a>Validation<a class="hash-link" href="#validation" title="Direct link to heading">#</a></h3><p>The <code>ipld-schema</code> module should be used to validate the format of the schema, working directly on current
file: <code>npx ipld-schema validate ./holium-schema.md</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="resources"></a>Resources<a class="hash-link" href="#resources" title="Direct link to heading">#</a></h3><p>Find more information on IPLD <a href="https://ipld.io/" target="_blank" rel="noopener noreferrer">website</a>, <a href="https://docs.ipld.io/" target="_blank" rel="noopener noreferrer">documentation</a>
and <a href="https://specs.ipld.io/" target="_blank" rel="noopener noreferrer">specifications</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/polyphene/holium-docs/blob/main/docs/reference/design.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_wj+Z"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/guides"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Guides</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/reference/cli"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">CLI Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#reference-schema" class="table-of-contents__link">Reference schema</a><ul><li><a href="#data" class="table-of-contents__link">Data</a></li><li><a href="#execution" class="table-of-contents__link">Execution</a></li><li><a href="#pipelines" class="table-of-contents__link">Pipelines</a></li><li><a href="#other-kinds" class="table-of-contents__link">Other kinds</a></li></ul></li><li><a href="#additional-considerations" class="table-of-contents__link">Additional considerations</a><ul><li><a href="#versioning" class="table-of-contents__link">Versioning strategy</a></li><li><a href="#pipeline-dag-lexical-order" class="table-of-contents__link">Lexical ordering of pipeline vertices</a></li></ul></li><li><a href="#contributing" class="table-of-contents__link">Contributing</a><ul><li><a href="#holium-improvement-proposal-hip" class="table-of-contents__link">Holium Improvement Proposal (HIP)</a></li><li><a href="#validation" class="table-of-contents__link">Validation</a></li><li><a href="#resources" class="table-of-contents__link">Resources</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://polyphene.github.io/holium.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Holium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/">Documentation</a></li><li class="footer__item"><a href="https://discord.gg/A3t5ZFSbCG" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/polyphene" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/polyphenehq" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>About us<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Holium</div></div></div></footer></div>
<script src="/assets/js/runtime~main.21589c7f.js"></script>
<script src="/assets/js/main.4fcd81d0.js"></script>
</body>
</html>